<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>That time Oracle tried to have a professor fired for benchmarking their database | Rahul Vishwakarma Blog</title>
    <link rel="stylesheet" type="text/css" href="../styles.css" media="screen" />
</head>
<body>
<header>
    <nav>
        <a href="/index.html" aria-label="Go back to the homepage">← Back</a>
        <a href="https://danluu.com/anon-benchmark/" target="_blank" rel="noopener noreferrer">
            View Original
        </a>
    </nav>
</header>

<main>
    <article>
        <h1>That time Oracle tried to have a professor fired for benchmarking their database</h1>
        <section>
            
            <div id="readability-page-1" class="page"><div> <p>In 1983, at the University of Wisconsin, Dina Bitton, David DeWitt, and Carolyn Turbyfill created a <a href="http://pages.cs.wisc.edu/~dewitt/includes/benchmarking/vldb83.pdf">database benchmarking framework</a>. Some of their results included (lower is better):</p> <p>Join without indices</p>  <table> <thead> <tr> <th>system</th> <th>joinAselB</th> <th>joinABprime</th> <th>joinCselAselB</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>10.2</td> <td>9.6</td> <td>9.4</td> </tr> <tr> <td>C-INGRES</td> <td>1.8</td> <td>2.6</td> <td>2.1</td> </tr> <tr> <td>ORACLE</td> <td>&gt; 300</td> <td>&gt; 300</td> <td>&gt; 300</td> </tr> <tr> <td>IDMnodac</td> <td>&gt; 300</td> <td>&gt; 300</td> <td>&gt; 300</td> </tr> <tr> <td>IDMdac</td> <td>&gt; 300</td> <td>&gt; 300</td> <td>&gt; 300</td> </tr> <tr> <td>DIRECT</td> <td>10.2</td> <td>9.5</td> <td>5.6</td> </tr> <tr> <td>SQL/DS</td> <td>2.2</td> <td>2.2</td> <td>2.1</td> </tr> </tbody> </table> <p>Join with indices, primary (clustered) index</p> <table> <thead> <tr> <th>system</th> <th>joinAselB</th> <th>joinABprime</th> <th>joinCselAselB</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>2.11</td> <td>1.66</td> <td>9.07</td> </tr> <tr> <td>C-INGRES</td> <td>0.9</td> <td>1.71</td> <td>1.07</td> </tr> <tr> <td>ORACLE</td> <td>7.94</td> <td>7.22</td> <td>13.78</td> </tr> <tr> <td>IDMnodac</td> <td>0.52</td> <td>0.59</td> <td>0.74</td> </tr> <tr> <td>IDMdac</td> <td>0.39</td> <td>0.46</td> <td>0.58</td> </tr> <tr> <td>DIRECT</td> <td>10.21</td> <td>9.47</td> <td>5.62</td> </tr> <tr> <td>SQL/DS</td> <td>0.92</td> <td>1.08</td> <td>1.33</td> </tr> </tbody> </table> <p>Join with indicies, secondary (non-clustered) index</p> <table> <thead> <tr> <th>system</th> <th>joinAselB</th> <th>joinABprime</th> <th>joinCselAselB</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>4.49</td> <td>3.24</td> <td>10.55</td> </tr> <tr> <td>C-INGRES</td> <td>1.97</td> <td>1.80</td> <td>2.41</td> </tr> <tr> <td>ORACLE</td> <td>8.52</td> <td>9.39</td> <td>18.85</td> </tr> <tr> <td>IDMnodac</td> <td>1.41</td> <td>0.81</td> <td>1.81</td> </tr> <tr> <td>IDMdac</td> <td>1.19</td> <td>0.59</td> <td>1.47</td> </tr> <tr> <td>DIRECT</td> <td>10.21</td> <td>9.47</td> <td>5.62</td> </tr> <tr> <td>SQL/DS</td> <td>1.62</td> <td>1.4</td> <td>2.66</td> </tr> </tbody> </table> <p>Projection (duplicate tuples removed)</p> <table> <thead> <tr> <th>system</th> <th>100/10000</th> <th>1000/10000</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>64.6</td> <td>236.8</td> </tr> <tr> <td>C-INGRES</td> <td>26.4</td> <td>132.0</td> </tr> <tr> <td>ORACLE</td> <td>828.5</td> <td>199.8</td> </tr> <tr> <td>IDMnodac</td> <td>29.3</td> <td>122.2</td> </tr> <tr> <td>IDMdac</td> <td>22.3</td> <td>68.1</td> </tr> <tr> <td>DIRECT</td> <td>2068.0</td> <td>58.0</td> </tr> <tr> <td>SQL/DS</td> <td>28.8</td> <td>28.0</td> </tr> </tbody> </table> <p>Aggregate without indicies</p> <table> <thead> <tr> <th>system</th> <th>MIN scalar</th> <th>MIN agg fn 100 parts</th> <th>SUM agg fun 100 parts</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>40.2</td> <td>176.7</td> <td>174.2</td> </tr> <tr> <td>C-INGRES</td> <td>34.0</td> <td>495.0</td> <td>484.4</td> </tr> <tr> <td>ORACLE</td> <td>145.8</td> <td>1449.2</td> <td>1487.5</td> </tr> <tr> <td>IDMnodac</td> <td>32.0</td> <td>65.0</td> <td>67.5</td> </tr> <tr> <td>IDMdac</td> <td>21.2</td> <td>38.2</td> <td>38.2</td> </tr> <tr> <td>DIRECT</td> <td>41.0</td> <td>227.0</td> <td>229.5</td> </tr> <tr> <td>SQL/DS</td> <td>19.8</td> <td>22.5</td> <td>23.5</td> </tr> </tbody> </table> <p>Aggregate with indicies</p> <table> <thead> <tr> <th>system</th> <th>MIN scalar</th> <th>MIN agg fn 100 parts</th> <th>SUM agg fun 100 parts</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>41.2</td> <td>186.5</td> <td>182.2</td> </tr> <tr> <td>C-INGRES</td> <td>37.2</td> <td>242.2</td> <td>254.0</td> </tr> <tr> <td>ORACLE</td> <td>160.5</td> <td>1470.2</td> <td>1446.5</td> </tr> <tr> <td>IDMnodac</td> <td>27.0</td> <td>65.0</td> <td>66.8</td> </tr> <tr> <td>IDMdac</td> <td>21.2</td> <td>38.0</td> <td>38.0</td> </tr> <tr> <td>DIRECT</td> <td>41.0</td> <td>227.0</td> <td>229.5</td> </tr> <tr> <td>SQL/DS</td> <td>8.5</td> <td>22.8</td> <td>23.8</td> </tr> </tbody> </table> <p>Selection without indicies</p> <table> <thead> <tr> <th>system</th> <th>100/10000</th> <th>1000/10000</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>53.2</td> <td>64.4</td> </tr> <tr> <td>C-INGRES</td> <td>38.4</td> <td>53.9</td> </tr> <tr> <td>ORACLE</td> <td>194.2</td> <td>230.6</td> </tr> <tr> <td>IDMnodac</td> <td>31.7</td> <td>33.4</td> </tr> <tr> <td>IDMdac</td> <td>21.6</td> <td>23.6</td> </tr> <tr> <td>DIRECT</td> <td>43.0</td> <td>46.0</td> </tr> <tr> <td>SQL/DS</td> <td>15.1</td> <td>38.1</td> </tr> </tbody> </table> <p>Selection with indicies</p> <table> <thead> <tr> <th>system</th> <th>100/10000 clustered</th> <th>100/10000 clustered</th> <th>100/10000</th> <th>1000/10000</th> </tr> </thead> <tbody> <tr> <td>U-INGRES</td> <td>7.7</td> <td>27.8</td> <td>59.2</td> <td>78.9</td> </tr> <tr> <td>C-INGRES</td> <td>3.9</td> <td>18.9</td> <td>11.4</td> <td>54.3</td> </tr> <tr> <td>ORACLE</td> <td>16.3</td> <td>130.0</td> <td>17.3</td> <td>129.2</td> </tr> <tr> <td>IDMnodac</td> <td>2.0</td> <td>9.9</td> <td>3.8</td> <td>27.6</td> </tr> <tr> <td>IDMdac</td> <td>1.5</td> <td>8.7</td> <td>3.3</td> <td>23.7</td> </tr> <tr> <td>DIRECT</td> <td>43.0</td> <td>46.0</td> <td>43.0</td> <td>46.0</td> </tr> <tr> <td>SQL/DS</td> <td>3.2</td> <td>27.5</td> <td>12.3</td> <td>39.2</td> </tr> </tbody> </table> <p>In case you&#39;re familiar with the database universe as of 1983, at the time, <code>INGRES</code> was a research project by Stonebreaker and Wong at Berkeley that had been commercialized. <code>C-INGRES</code> is the commercial versionn and <code>U-INGRES</code> is the university version. <code>IDM*</code> are the <code>IDM/500</code> database machine, the first widely used commercial database machine; <code>dac</code> is with a &#34;database accelerator&#34; and <code>nodac</code> is without. <code>DIRECT</code> was a research project in database machines that was started by DeWitt in 1977.</p> <p>In Bitton et al.&#39;s work, Oracle&#39;s performance stood out as unusually poor.</p> <p>Larry Ellison wasn&#39;t happy with the results and it&#39;s said that he <a href="https://starcounter.com/the-story-of-professor-dewitt/">tried to have</a> <a href="http://www.citeulike.org/user/marclijour/article/6883245">DeWitt fired</a>. Given how difficult it is to fire professors when there&#39;s actual misconduct, the probability of Ellison sucessfully getting someone fired for doing legitimate research in their field was pretty much zero. It&#39;s also said that, after DeWitt&#39;s non-firing, Larry banned Oracle from hiring Wisconsin grads and Oracle added a term to their EULA forbidding the publication of benchmarks. Over the years, many major commercial database vendors added a license clause that made benchmarking their database illegal.</p> <p>Today, Oracle hires from Wisconsin, but Oracle still forbids benchmarking of their database. Oracle&#39;s shockingly poor performance and Larry Ellison&#39;s response have gone down in history; anti-benchmarking clauses are now often known as &#34;DeWitt Clauses&#34;, and they&#39;ve spread from databases to all software, from <a href="https://news.ycombinator.com/item?id=7306121">compilers</a> to cloud offerings.</p> <p>Meanwhile, Bitcoin users have created <a href="http://rt.com/news/bitcoin-assassination-market-anarchist-983/">anonymous markets for assassinations</a> -- users can put money into a pot that gets paid out to the assassin who kills a particular target.</p> <p>Anonymous assassination markets appear to be a joke, but how about anonymous markets for benchmarks? People who want to know what kind of performance a database offers under a certain workload puts money into a pot that gets paid out to whoever runs the benchmark.</p> <p>With things as they are now, you often see comments and blog posts about how someone was using <code>postgres</code> until management made them switch to &#34;some commercial database&#34; which had much worse performance and it&#39;s hard to tell if the terrible database was Oracle, MS SQL server, or perhaps another database.</p> <p>If we look at major commercial databases today, two out of the three big names in commericial databases forbid publishing benchmarks. Microsoft&#39;s SQL server eula says:</p> <blockquote> <p>You may not disclose the results of any benchmark test ... without Microsoft’s prior written approval</p> </blockquote> <p>Oracle says:</p> <blockquote> <p>You may not disclose results of any Program benchmark tests without Oracle’s prior consent</p> </blockquote> <p>IBM is notable for actually allowing benchmarks:</p> <blockquote> <p>Licensee may disclose the results of any benchmark test of the Program or its subcomponents to any third party provided that Licensee (A) publicly discloses the complete methodology used in the benchmark test (for example, hardware and software setup, installation procedure and configuration files), (B) performs Licensee&#39;s benchmark testing running the Program in its Specified Operating Environment using the latest applicable updates, patches and fixes available for the Program from IBM or third parties that provide IBM products (&#34;Third Parties&#34;), and (C) follows any and all performance tuning and &#34;best practices&#34; guidance available in the Program&#39;s documentation and on IBM&#39;s support web sites for the Program...</p> </blockquote> <p>This gives people ammunition for a meta-argument that IBM probably delivers better performance than either Oracle or Microsoft, since they&#39;re the only company that&#39;s not scared of people publishing benchmark results, but it would be nice if we had actual numbers.</p> <p><i>Thanks to Leah Hanson and Nathan Wailes for comments/corrections/discussion.</i></p>  </div></div>
        </section>
    </article>
</main>
</body>
</html>
